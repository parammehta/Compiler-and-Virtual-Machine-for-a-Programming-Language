package de.letsbuildacompiler.compiler;

import java.io.StringReader;
import java.nio.file.Files;
import java.nio.file.Path;

import javax.sound.midi.Patch;

import jasmin.ClassFile;

import org.testng.Assert;
import org.testng.annotations.Test;

public class CompilerTest {
  private Path tempDir;
	@Test
  public void runningCodeoutputsExpectedText(String code, String expectedText) {
	  // executing...
	  String actualOutput = compileAndRun(code);
	  
	  //evaluating...
	  Assert.assertEquals(actualOutput, expectedText);
  }

private String compileAndRun(String code) throws Exception{
	ClassFile classfile = new ClassFile();
	classfile.readJasmin(new StringReader(code), "", false);
	Path outputPath = tempDir.resolve(classfile.getClassName() + ".class");
	classfile.write(Files.newOutputStream(outputPath));
	return runJavaClass(tempDir,classfile.getClassName());	
}

private String runJavaClass(Path tempDir2, String className) {
	// TODO Auto-generated method stub
	return null;
}
}
